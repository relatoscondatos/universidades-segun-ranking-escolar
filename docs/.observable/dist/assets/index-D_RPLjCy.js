import{d}from"./index-D437nhsD.js";d({root:document.getElementById("cell-26"),expanded:[],variables:[]},{id:26,body:(t,a,s,u,n)=>t`Según los datos abiertos del Ministerio de Educación de Chile, hay registros de **${a.format(".3s")(s[0].estudiantes)}** estudiantes egresados de Educación Media en 2023.

De estos egresados, **${a.format(".3s")(u[0].est_universidades)}** se matricularon en universidades en 2024.

Entre las matrículas universitarias, **${a.format(".3s")(n[0].estudiantes)}** corresponden a estudiantes que se encontraban en el 30% de mejor rendimiento de su promoción escolar, según información reportada por el Ministerio de Educación.

En esta página podrás explorar en qué universidades se matricularon los estudiantes del 30% de mejor rendimiento de su promoción escolar, segmentado por tipo de dependencia y región del establecimiento de origen.`,inputs:["md","d3","data_totalEM","data_matriculadosES","data_matriculados_ESTop30"],outputs:[],output:void 0,assets:void 0,autodisplay:!0,autoview:!1,automutable:void 0});d({root:document.getElementById("cell-7"),expanded:[],variables:[]},{id:7,body:(t,a)=>{const s=[{label:"Municipal",value:1},{label:"Particular Subvencionado",value:2},{label:"Particular Pagado",value:3},{label:"Administración Delegada",value:4},{label:"Servicio Local",value:5}],u=t(a.select(s,{label:"Tipo de establecimiento:",format:n=>n.label,value:s[2]}));return{schoolTypeOptions:s,schoolTypeSelector:u}},inputs:["view","Inputs"],outputs:["schoolTypeOptions","schoolTypeSelector"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-10"),expanded:[],variables:[]},{id:10,body:(t,a,s,u)=>({schoolRegion:t(a.select(s.chain(u).map((o,l)=>[l,o]).sortBy(o=>o[1].order).map(o=>o[0]).value(),{label:"Región del establecimiento escolar:",format:o=>u[o].name,value:"13"}))}),inputs:["view","Inputs","_","regionDict"],outputs:["schoolRegion"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-46"),expanded:[],variables:[]},{id:46,body:(t,a,s,u,n,o)=>t`En la Región ${a[s].name}, de los establecimientos ${u.label.toLowerCase()}, egresaron ${n.format(",")(o.estudiantes)} estudiantes que se matricularon en universidades en 2024.

De ellos, ${n.format(",")(o.estudiantes_top30)} pertenecían al 30% de mejor rendimiento de su promoción escolar.`,inputs:["md","regionDict","schoolRegion","schoolTypeSelector","d3","selectionStats"],outputs:[],output:void 0,assets:void 0,autodisplay:!0,autoview:!1,automutable:void 0});d({root:document.getElementById("cell-12"),expanded:[],variables:[]},{id:12,body:(t,a,s,u,n,o,l,m,v,I)=>{if(typeof t>"u")a("Error: Data is not loaded. Please ensure the SQL query has executed successfully.");else{const h=t.filter(i=>i.categoriaPercentil===s&&u[i.school_type]===n.label&&+i.school_region_code==+o),f=l.rollup(h,i=>l.sum(i,e=>e.estudiantes),i=>i.institution_name),b=4,c=Array.from(f,([i,e])=>({institution_name:i,estudiantes:e})).filter(i=>i.estudiantes>b).sort((i,e)=>e.estudiantes-i.estudiantes);a(m.plot({title:`Estudiantes del 30% de mejor rendimiento matriculados en universidades (${l.format(",")(v.estudiantes_top30)} estudiantes)`,subtitle:`Establecimientos ${n.label.toLowerCase()}, Región ${I[o].name}.  Solo universidades con al menos ${l.format(",")(b)} estudiantes en el 30% de mejor rendimiento.`,width:800,height:Math.max(400,c.length*25),marginLeft:300,marginRight:50,x:{label:"Número de estudiantes",tickFormat:l.format(",")},y:{label:null,domain:c.map(i=>i.institution_name)},marks:[m.barX(c,{x:"estudiantes",y:"institution_name",fill:"steelblue",tip:!0}),m.text(c,{x:"estudiantes",y:"institution_name",text:i=>l.format(",")(i.estudiantes),textAnchor:"start",dx:5,fill:"black",fontSize:12})]}))}},inputs:["data","display","percentileCategory","schoolTypeDict","schoolTypeSelector","schoolRegion","d3","Plot","selectionStats","regionDict"],outputs:[],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-5"),expanded:[],variables:[]},{id:5,body:(t,a,s,u,n,o,l,m)=>{const I=t.filter(e=>a[e.school_type]===s.label&&e.school_region_code==u),h=n.rollup(I,e=>n.sum(e,r=>r.estudiantes),e=>e.institution_name,e=>e.categoriaPercentil),f=[];for(const[e,r]of h)for(const[p,g]of r)f.push({institution_name:e,categoriaPercentil:p,estudiantes:g});const b=n.rollup(f,e=>{const r=n.sum(e,y=>y.estudiantes),p=n.sum(e.filter(y=>y.categoriaPercentil==="30% de mejor rendimiento"),y=>y.estudiantes),g=p/r;return{total:r,menorIgual30:p,proportion:g,data:e}},e=>e.institution_name),c=Array.from(b).filter(([,e])=>e.total>=50).sort((e,r)=>r[1].proportion-e[1].proportion),i=c.flatMap(([e,r])=>r.data.map(p=>({...p,proportion:r.proportion,total:r.total})));return o(l.plot({title:`Distribución de estudiantes por universidad (${n.format(",")(n.sum(i,e=>e.estudiantes))} estudiantes)`,subtitle:`Establecimientos ${s.label.toLowerCase()}, Región ${m[u].name}. Solo universidades con al menos ${n.format(",")(50)} estudiantes en el grupo seleccionado.`,caption:"Ordenado por proporción de estudiantes del 30% de mejor rendimiento",width:900,height:Math.max(400,c.length*30),marginLeft:300,x:{label:"Número de estudiantes",tickFormat:n.format(",")},y:{label:null,domain:c.map(([e])=>e)},color:{domain:["30% de mejor rendimiento","70% restante"],range:["#2563eb","#94a3b8"]},marks:[l.barX(i,{x:"estudiantes",y:"institution_name",fill:"categoriaPercentil",tip:!0}),l.text(c,{x:0,y:([e])=>e,text:([,e])=>`${n.format(".0%")(e.proportion)} (${n.format(",")(e.menorIgual30)}/${n.format(",")(e.total)})`,textAnchor:"start",dx:5,fill:"lightgrey",fontSize:11,fontWeight:"bold"})]})),{minStudents:50,dataPlot:I,groupedData:h,dataPlotGrouped:f,dataWithProportions:b,filteredInstitutions:c,plotData:i}},inputs:["data","schoolTypeDict","schoolTypeSelector","schoolRegion","d3","display","Plot","regionDict"],outputs:["minStudents","dataPlot","groupedData","dataPlotGrouped","dataWithProportions","filteredInstitutions","plotData"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-14"),expanded:[],variables:[]},{id:14,body:()=>({percentileCategory:"30% de mejor rendimiento"}),inputs:[],outputs:["percentileCategory"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-8"),expanded:[],variables:[]},{id:8,body:()=>({schoolTypeDict:{1:"Municipal",2:"Municipal",3:"Particular Subvencionado",4:"Particular Pagado",5:"Administración Delegada",6:"Servicio Local"}}),inputs:[],outputs:["schoolTypeDict"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-28"),expanded:[],variables:[]},{id:28,body:()=>({regionDict:{15:{name:"Arica y Parinacota",order:1},1:{name:"Tarapacá",order:2},2:{name:"Antofagasta",order:3},3:{name:"Atacama",order:4},4:{name:"Coquimbo",order:5},5:{name:"Valparaíso",order:6},13:{name:"Metropolitana",order:7},6:{name:"O'Higgins",order:8},7:{name:"Maule",order:9},16:{name:"Ñuble",order:10},8:{name:"Biobío",order:11},9:{name:"La Araucanía",order:12},14:{name:"Los Ríos",order:13},10:{name:"Los Lagos",order:14},11:{name:"Aysén",order:15},12:{name:"Magallanes",order:16}}}),inputs:[],outputs:["regionDict"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-36"),expanded:[],variables:[]},{id:36,body:t=>t.sql`SELECT institution_name,sum(estudiantes)
FROM data_
GROUP BY institution_name
order by sum(estudiantes)`,inputs:["db"],outputs:[],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-43"),expanded:[],variables:[]},{id:43,body:async(t,a,s,u)=>{const n=Object.entries(t).filter(([,m])=>m===a.label).map(([m])=>parseInt(m)),o=[...await s.query(`
  SELECT
    SUM(estudiantes) as total_estudiantes,
    SUM(CASE WHEN categoriaPercentil = '30% de mejor rendimiento' THEN estudiantes ELSE 0 END) as estudiantes_top30
  FROM data
  WHERE school_type IN (${n.join(",")})
    AND school_region_code = ${u}
`)],l={estudiantes:o[0].total_estudiantes,estudiantes_top30:o[0].estudiantes_top30};return{schoolTypeCodes:n,selectedData:o,selectionStats:l}},inputs:["schoolTypeDict","schoolTypeSelector","db","schoolRegion"],outputs:["schoolTypeCodes","selectedData","selectionStats"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-37"),expanded:[],variables:[]},{id:37,body:(t,a,s)=>({db:t.of({data_:a,data:s})}),inputs:["DuckDBClient","data_","data"],outputs:["db"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-9"),expanded:[],variables:[]},{id:9,body:(t,a)=>t(new URL(""+new URL("duckdb-13u32t9fiu8bkzdk-CCWYl3E9.json",import.meta.url).href,import.meta.url).href).json().then(a.revive),inputs:["FileAttachment","DatabaseClient"],outputs:[],output:"data",assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-34"),expanded:[],variables:[]},{id:34,body:(t,a)=>t(new URL(""+new URL("duckdb-r8viqwisl2xjo3dv-DB22PjPx.json",import.meta.url).href,import.meta.url).href).json().then(a.revive),inputs:["FileAttachment","DatabaseClient"],outputs:[],output:"data_",assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-20"),expanded:[],variables:[]},{id:20,body:(t,a)=>t(new URL("data:application/json;base64,eyJyb3dzIjpbeyJpbnN0aXR1dGlvbl90eXBlIjoiSW5zdGl0dXRvcyBQcm9mZXNpb25hbGVzIiwiZXN0dWRpYW50ZXMiOiIyMzM4OCJ9LHsiaW5zdGl0dXRpb25fdHlwZSI6IlVuaXZlcnNpZGFkZXMiLCJlc3R1ZGlhbnRlcyI6Ijc2OTgxIn0seyJpbnN0aXR1dGlvbl90eXBlIjoiQ2VudHJvcyBkZSBGb3JtYWNpw7NuIFTDqWNuaWNhIiwiZXN0dWRpYW50ZXMiOiIxNTcxNCJ9XSwic2NoZW1hIjpbeyJuYW1lIjoiaW5zdGl0dXRpb25fdHlwZSIsInR5cGUiOiJzdHJpbmcifSx7Im5hbWUiOiJlc3R1ZGlhbnRlcyIsInR5cGUiOiJiaWdpbnQifV0sImR1cmF0aW9uIjo3MTQsImRhdGUiOiIyMDI1LTA5LTIxVDAyOjI0OjU2Ljc4NVoifQ==",import.meta.url).href).json().then(a.revive),inputs:["FileAttachment","DatabaseClient"],outputs:[],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-21"),expanded:[],variables:[]},{id:21,body:(t,a)=>t(new URL("data:application/json;base64,eyJyb3dzIjpbeyJlc3R1ZGlhbnRlcyI6IjIxMjg4NyJ9XSwic2NoZW1hIjpbeyJuYW1lIjoiZXN0dWRpYW50ZXMiLCJ0eXBlIjoiYmlnaW50In1dLCJkdXJhdGlvbiI6MjAsImRhdGUiOiIyMDI1LTA5LTIxVDAyOjI0OjU4LjEyMloifQ==",import.meta.url).href).json().then(a.revive),inputs:["FileAttachment","DatabaseClient"],outputs:[],output:"data_totalEM",assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-22"),expanded:[],variables:[]},{id:22,body:(t,a)=>t(new URL("data:application/json;base64,eyJyb3dzIjpbeyJlc3R1ZGlhbnRlcyI6IjIxMzExNiIsImVzdF9lZHVjYWNpb25fc3VwZXJpb3IiOiIxMTYwODMiLCJlc3RfdW5pdmVyc2lkYWRlcyI6Ijc2OTgxIn1dLCJzY2hlbWEiOlt7Im5hbWUiOiJlc3R1ZGlhbnRlcyIsInR5cGUiOiJiaWdpbnQifSx7Im5hbWUiOiJlc3RfZWR1Y2FjaW9uX3N1cGVyaW9yIiwidHlwZSI6ImJpZ2ludCJ9LHsibmFtZSI6ImVzdF91bml2ZXJzaWRhZGVzIiwidHlwZSI6ImJpZ2ludCJ9XSwiZHVyYXRpb24iOjE4MSwiZGF0ZSI6IjIwMjUtMDktMjFUMDI6MjQ6NTkuMTczWiJ9",import.meta.url).href).json().then(a.revive),inputs:["FileAttachment","DatabaseClient"],outputs:[],output:"data_matriculadosES",assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-23"),expanded:[],variables:[]},{id:23,body:(t,a)=>t(new URL("data:application/json;base64,eyJyb3dzIjpbeyJlc3R1ZGlhbnRlcyI6IjQ1MDAzIn1dLCJzY2hlbWEiOlt7Im5hbWUiOiJlc3R1ZGlhbnRlcyIsInR5cGUiOiJiaWdpbnQifV0sImR1cmF0aW9uIjo5MSwiZGF0ZSI6IjIwMjUtMDktMjFUMDI6MjU6MDAuMjQ4WiJ9",import.meta.url).href).json().then(a.revive),inputs:["FileAttachment","DatabaseClient"],outputs:[],output:"data_matriculados_ESTop30",assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});d({root:document.getElementById("cell-47"),expanded:[],variables:[]},{id:47,body:t=>{t.formatDefaultLocale({decimal:",",thousands:".",grouping:[3],currency:["$",""]})},inputs:["d3"],outputs:[],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});
